// Defines a singleton SongManager with a getSong() function
var SongManager = (function() {
	// declare all songs
	// TODO separate file?
	// TODO some kind of Song/SongModel class
	var songs = {
		"Genie": {"lines":[{"english":"Tell me your wish","korean":"소원을 말해봐","startTime":"9.5","metadata":[{"start":"0","length":"2","info":"wish"},{"start":"2","length":"1","info":"object particle"},{"start":"4","length":"2","info":"to say/talk"},{"start":"5","length":"2","info":"grammar: to try"}]},{"english":"Tell me that small dream you have within you","korean":"니 마음속에 있는 작은 꿈을 말해봐","startTime":"12","metadata":[{"start":"0","length":"1","info":"informal you"},{"start":"2","length":"3","info":"one's mind/heart"},{"start":"5","length":"1","info":"grammar: in"},{"start":"7","length":"1","info":"to have"},{"start":"8","length":"1","info":"grammar: verb to adj mod"},{"start":"10","length":"1","info":"to be small"},{"start":"11","length":"1","info":"grammar: vert to adj mod"},{"start":"13","length":"1","info":"dream"},{"start":"14","length":"1","info":"object particle"},{"start":"15","length":"2","info":"to say/talk"},{"start":"16","length":"2","info":"grammar: to try"}]},{"english":"Draw that ideal person you have inside your head","korean":"니 머리에있는 이상형을 그려봐","startTime":"16","metadata":[{"start":"0","length":"1","info":"you"},{"start":"2","length":"2","info":"head/mind"},{"start":"4","length":"1","info":"in"},{"start":"5","length":"1","info":"to have"},{"start":"6","length":"1","info":"verb to adj mod"},{"start":"8","length":"3","info":"ideal type"},{"start":"11","length":"1","info":"object particle"},{"start":"13","length":"2","info":"to draw"},{"start":"14","length":"2","info":"grammar: to try"}]},{"english":"And then look at me","korean":"그리고 나를 봐","startTime":"20","metadata":[]},{"english":"I'm your genie, your dream, your genie","korean":"난 너의 GENIE야, 꿈이야, GENIE야","startTime":"24","metadata":[]},{"english":"Get in your dream car and speed off","korean":"드림카를 타고 달려봐","startTime":"28","metadata":[]},{"english":"You're sitting next to me","korean":"넌 내옆자리에 앉아","startTime":"30","metadata":[]},{"english":"Just throw everything into my guidance","korean":"그저 내 이끌림 속에 모두 던져","startTime":"34","metadata":[]},{"english":"Even if your overwhelmed heart was to explode","korean":"가슴벅차 터져버려도","startTime":"38","metadata":[]},{"english":"Even if it all flies away in the wind","korean":"바람결에 날려버려도","startTime":"42","metadata":[]},{"english":"Right now, this moment, the world is yours","korean":"지금 이 순간 세상은 너의 것","startTime":"46","metadata":[]},{"english":"That's right, I love you","korean":"그래요 난 널 사랑해","startTime":"50","metadata":[]},{"english":"You can always believe in me","korean":"언제나 믿어","startTime":"54","metadata":[]},{"english":"Dreams, passions","korean":"꿈도 열정도","startTime":"58","metadata":[]},{"english":"I want to give them all to you","korean":"다 주고 싶어","startTime":"62","metadata":[]},{"english":"I'm wanting to answer your wishes","korean":"난 그대 소원을 이뤄주고 싶은 (싶은)","startTime":"64","metadata":[]},{"english":"Your goddess of fortune","korean":"행운의 여신","startTime":"68","metadata":[]},{"english":"Tell me your wish (I'm genie for you boy)","korean":"소원을 말해봐 (I'm Genie for you boy)","startTime":"70","metadata":[]},{"english":"Tell me your wish (I'm genie for your wish)","korean":"소원을 말해봐! (I'm Genie for your wish)","startTime":"72","metadata":[]},{"english":"Tell me your wish (I'm genie for your dream)","korean":"소원을 말해봐 (I'm Genie for your dream)","startTime":"74","metadata":[]},{"english":"Tell it only to me (I'm Genie for your world) ","korean":"내게만 말해봐! (I'm Genie for your world) ","startTime":"78","metadata":[]},{"english":"Tell me your wish","korean":"소원을 말해봐","startTime":"82","metadata":[]},{"english":"Aren't you tired of the boring days","korean":"지루한 날들이 넌 지겹지 않니?","startTime":"86","metadata":[]},{"english":"Have you become buried by your ordinary life?","korean":"평범한 생활에 넌 묻혀버렸니?","startTime":"90","metadata":[]},{"english":"Now stop and wake up","korean":"이제 그만 깨어나","startTime":"94","metadata":[]},{"english":"You are my superstar, shining star, super star","korean":"넌 나의 Superstar, Shining Star, Superstar","startTime":"98","metadata":[]},{"english":"Release your body into the trembling beating of your heart like a Harley","korean":"심장소리 같은 떨림의 Harley에 네 몸을 맡겨봐","startTime":"102","metadata":[]},{"english":"Now this world is simply your stage","korean":"이제 이 세상은 오직 너의 무대","startTime":"106","metadata":[]},{"english":"A wave of cheers","korean":"환호소리 같은 파도가","startTime":"110","metadata":[]},{"english":"In my heart, your body temperature, I'm your path.","korean":"내 가슴엔 너의 체온이 나는 길","startTime":"114","metadata":[]},{"english":"Forever your biggest fan","korean":"영원한 Biggest Fan","startTime":"118","metadata":[]},{"english":"That's right, I love you","korean":"그래요 난 널 사랑해","startTime":"122","metadata":[]},{"english":"You can always believe in me","korean":"언제나 믿어","startTime":"126","metadata":[]},{"english":"Dreams, passions","korean":"꿈도 열정도","startTime":"130","metadata":[]},{"english":"I want to give them all to you","korean":"다 주고 싶어","startTime":"134","metadata":[]},{"english":"I'm wanting to answer your wishes","korean":"난 그대 소원을 이뤄주고 싶은 (싶은)","startTime":"138","metadata":[]},{"english":"Your goddess of fortune","korean":"행운의 여신","startTime":"142","metadata":[]},{"english":"Tell me your wish (I'm genie for you boy)","korean":"소원을 말해봐 (I'm Genie for you boy)","startTime":"146","metadata":[]},{"english":"Tell me your wish (I'm genie for your wish)","korean":"소원을 말해봐! (I'm Genie for your wish)","startTime":"148","metadata":[]},{"english":"Tell me your wish (I'm genie for your dream)","korean":"소원을 말해봐 (I'm Genie for your dream)","startTime":"152","metadata":[]},{"english":"Tell it only to me (I'm Genie for your world) ","korean":"내게만 말해봐! (I'm Genie for your world) ","startTime":"156","metadata":[]},{"english":"DJ Put it back on","korean":"DJ Put it back on","startTime":"160","metadata":[]},{"english":"That's right, I love you","korean":"그래요 난 널 사랑해","startTime":"164","metadata":[]},{"english":"You can always believe in me","korean":"언제나 믿어","startTime":"168","metadata":[]},{"english":"Dreams, passions","korean":"꿈도 열정도","startTime":"172","metadata":[]},{"english":"I want to give them all to you","korean":"다 주고 싶어","startTime":"176","metadata":[]},{"english":"I'm wanting to answer your wishes","korean":"난 그대 소원을 이뤄주고 싶은 (싶은)","startTime":"180","metadata":[]},{"english":"Your goddess of fortune","korean":"행운의 여신","startTime":"184","metadata":[]},{"english":"Tell me your wish!","korean":"소원을 말해봐!","startTime":"188","metadata":[]},{"english":"That's right, I love you","korean":"그래요 난 널 사랑해","startTime":"192","metadata":[]},{"english":"You are my Music","korean":"넌 나의 Music","startTime":"196","metadata":[]},{"english":"I love you","korean":"난 널 사랑해","startTime":"200","metadata":[]},{"english":"You are my joy","korean":"넌 나의 기쁨","startTime":"204","metadata":[]},{"english":"I love you","korean":"난 널 사랑해","startTime":"208","metadata":[]},{"english":"I want to become your luck","korean":"난 너의 행운이 되고 싶어","startTime":"212","metadata":[]},{"english":"(Tell me your fantasy, without holding back","korean":"(너의 Fantasy를 숨김없이 말해봐","startTime":"216","metadata":[]},{"english":"I'll show you the genie's path","korean":"나는 Genie길을 보여줄게","startTime":"220","metadata":[]},{"english":"Tell me your wish, without holding back","korean":"니가 가진 소원 숨김없이 말해봐","startTime":"224","metadata":[]},{"english":"I, your genie, will grant them)","korean":"너의 Genie 내가 들어줄게)","startTime":"228","metadata":[]},{"english":"Tell me your wish (I'm genie for you boy)","korean":"소원을 말해봐 (I'm Genie for you boy)","startTime":"232","metadata":[]},{"english":"Tell me your wish (I'm genie for your wish)","korean":"소원을 말해봐! (I'm Genie for your wish)","startTime":"236","metadata":[]},{"english":"Tell me your wish (I'm genie for your dream)","korean":"소원을 말해봐 (I'm Genie for your dream)","startTime":"240","metadata":[]},{"english":"Tell it only to me (I'm genie for your dream)","korean":"소원을 말해봐! (I'm Genie for your world)","startTime":"244","metadata":[]},{"english":"Tell me your wish (I'm genie for you boy)","korean":"소원을 말해봐 (I'm Genie for you boy)","startTime":"248","metadata":[]},{"english":"Tell me your wish (I'm genie for your wish)","korean":"소원을 말해봐! (I'm Genie for your wish)","startTime":"242","metadata":[]}]}
	};

	var songNames = [];
	for(var songName in songs) {
		songNames.push(songName);
	}

	return {
		getSong: function(name) {
			if(name in songs)
				return $.extend({}, songs[name]);
			throw new Error("no song of name " + name);
		},

		getSongNames: function() {
			return songNames.slice(); // aka slice(0) aka copied array
		},

		// TODO efficiency? Shouldn't matter in this case
		lineInSong: function(song, time) {
			for(var i = song.lines.length - 1; i >= 0; i--) {
				if(song.lines[i].startTime < time)
					return song.lines[i];
			}
			return null;
		}
	};

})();

